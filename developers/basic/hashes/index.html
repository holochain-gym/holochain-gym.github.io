<!DOCTYPE html><html lang="en" dir="ltr"><head>
  
    

  



<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic: Hashes: Holochain Gym</title>
<meta property="og:title" content="Basic: Hashes: Holochain Gym">

<meta name="generator" content="rocket 0.1">
<link rel="canonical" href="/developers/basic/hashes/">



<meta name="description" content="Holochain Gym contains exercises, resources and trainings to learn holochain">
<meta property="og:description" content="Holochain Gym contains exercises, resources and trainings to learn holochain">

  
    <link rel="apple-touch-icon" sizes="180x180" href="../../../assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../../assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../assets/favicon-16x16.png">
<link rel="manifest" href="../../../assets/webmanifest.json">
<link rel="mask-icon" href="../../../assets/safari-pinned-tab.svg" color="#3f93ce">
<meta name="msapplication-TileColor" content="#1d3557">
<meta name="theme-color" content="#1d3557">

  
    <meta property="og:site_name" content="Holochain Gym">
<meta property="og:type" content="website">

<meta property="og:image" content="../../../b6412cc3.png">
<meta property="og:url" content="/developers/basic/hashes/">

<meta name="twitter:card" content="summary_large_image">

  
    <link rel="stylesheet" href="../../../5cbbbada.css">
<link rel="stylesheet" href="../../../490f016e.css">
<link rel="stylesheet" href="../../../a0513237.css">
<link rel="stylesheet" href="../../../b8c01bc2.css">

  
    <noscript><link rel="stylesheet" href="/_merged_assets/_static/noscript.css"/></noscript>

  

<link rel="preload" href="../../../24d60c66.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../e47816b7.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../ba1498b4.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../17157e21.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../962426a7.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../3290032f3.js" as="script" crossorigin="anonymous">
<link rel="preload" href="../../../2b1864b5.js" as="script" crossorigin="anonymous">
</head>

  

  
  <body layout="layout-sidebar">
  

    
      <header id="main-header">
  <div class="content-area">
    
      <button id="mobile-menu-trigger" data-action="trigger-mobile-menu">
	<span class="sr-only">Show Menu</span>
	      <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon">
        <path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
      </svg>

</button>

    
      
	<a class="logo-link" href="/">
  <img src="../../../a9d80dbb.svg" alt="A gym tool">
  <span>Holochain Gym</span>
</a>



    
      
  <a href="/architects/" class="
          
          
        "></a>
  <a href="/developers/" class="
          
           active 
        ">Developers</a>

    
      <a href="https://developer.holochain.org/docs/concepts/" class="">Core Concepts</a>
    
      <launch-dark-switch class="light-dark-switch" label="Toggle darkmode">Toggle darkmode</launch-dark-switch>


    
      <a href="https://developer.holochain.org/docs/glossary/" class="">Glossary of Terms</a>
    
      <a href="https://forum.holochain.org/c/learning-library/gym/133" class="">Give us Feedback!</a>
    
      
	<a class="social-link" href="https://github.com/holochain-gym/" aria-label="Holochain Gym on GitHub" rel="noopener noreferrer" target="_blank">
		<span class="sr-only">GitHub</span>
		
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16" fill="none">
  <title>GitHub</title>
  <path fill="currentColor" fill-rule="evenodd" d="M8.18391.249268C3.82241.249268.253906 3.81777.253906 8.17927c0 3.46933 2.279874 6.44313 5.451874 7.53353.3965.0991.49563-.1983.49563-.3965v-1.3878c-2.18075.4956-2.67638-.9912-2.67638-.9912-.3965-.8922-.89212-1.1895-.89212-1.1895-.69388-.4957.09912-.4957.09912-.4957.793.0992 1.1895.793 1.1895.793.69388 1.2887 1.88338.8922 2.27988.6939.09912-.4956.29737-.8921.49562-1.0904-1.78425-.1982-3.5685-.8921-3.5685-3.96496 0-.89212.29738-1.586.793-2.08162-.09912-.19825-.3965-.99125.09913-2.08163 0 0 .69387-.19825 2.18075.793.59475-.19825 1.28862-.29737 1.9825-.29737.69387 0 1.38775.09912 1.98249.29737 1.4869-.99125 2.1808-.793 2.1808-.793.3965 1.09038.1982 1.88338.0991 2.08163.4956.59475.793 1.28862.793 2.08162 0 3.07286-1.8834 3.66766-3.66764 3.86586.29737.3965.59474.8921.59474 1.586v2.1808c0 .1982.0991.4956.5948.3965 3.172-1.0904 5.4518-4.0642 5.4518-7.53353-.0991-4.3615-3.6676-7.930002-8.02909-7.930002z" clip-rule="evenodd"></path>
</svg>

		
	</a>

    
  </div>
</header>

    

    
  <div id="content-wrapper">
    <div class="content-area">
      
        <rocket-drawer id="sidebar">
  <nav slot="content" id="sidebar-nav">
    
      <a class="logo-link" href="/">
  <img src="../../../a9d80dbb.svg" alt="A gym tool">
  <span>Holochain Gym</span>
</a>


    
      <rocket-navigation>
  <ul><li class="menu-item">
<a href="/developers/requirements/">Requirements</a>
<ul><li class="menu-item">
<a href="/developers/requirements/setup/">Setup</a>

</li>
<li class="menu-item">
<a href="/developers/requirements/documentation/">Documentation</a>

</li>
<li class="menu-item">
<a href="/developers/requirements/rust/">Rust</a>

</li>
<li class="menu-item">
<a href="/developers/requirements/anatomy/">Anatomy</a>

</li></ul>
</li>
<li class="menu-item active">
<a href="/developers/basic/">Basic</a>
<ul><li class="menu-item">
<a href="/developers/basic/entries/">Entries</a>

</li>
<li class="menu-item current">
<a href="/developers/basic/hashes/">Hashes</a>
<ul>
  <li class="menu-item anchor">
    <a href="#recap" class="anchor">Recap</a>
  </li>
  <li class="menu-item anchor">
    <a href="#hash-function" class="anchor">Hash function</a>
  </li>
  <li class="menu-item anchor">
    <a href="#hash-table" class="anchor">Hash table</a>
  </li>
  <li class="menu-item anchor">
    <a href="#getting-ready" class="anchor">Getting ready</a>
  </li>
  <li class="menu-item anchor">
    <a href="#exercise" class="anchor">Exercise</a>
  </li>
  <li class="menu-item anchor">
    <a href="#errors" class="anchor">Errors</a>
  </li>
</ul>

</li>
<li class="menu-item">
<a href="/developers/basic/headers/">Headers</a>

</li>
<li class="menu-item">
<a href="/developers/basic/links/">Links</a>

</li>
<li class="menu-item">
<a href="/developers/basic/source-chain/">Source-Chain</a>

</li></ul>
</li>
<li class="menu-item">
<a href="/developers/intermediate/">Intermediate</a>
<ul><li class="menu-item">
<a href="/developers/intermediate/dht/">DHT</a>

</li>
<li class="menu-item">
<a href="/developers/intermediate/paths/">Paths</a>

</li>
<li class="menu-item">
<a href="/developers/intermediate/remote-call/">Remote Call</a>

</li>
<li class="menu-item">
<a href="/developers/intermediate/capability-tokens/">Capability Tokens</a>

</li></ul>
</li></ul>
  <div class="sidebar-bottom">
  <hr>
  <launch-dark-switch class="light-dark-switch" label="Toggle darkmode">Toggle darkmode</launch-dark-switch>


  <a href="https://github.com/holochain-gym/">Help and Feedback</a>
</div>

</rocket-navigation>

    
  </nav>
</rocket-drawer>

      
      
        <main class="markdown-body">
  
    <h1 id="basic-hashes"><a class="anchor" href="#basic-hashes"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Basic: Hashes</h1>
<h2 id="recap"><a class="anchor" href="#recap"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Recap</h2>
<p>Welcome back to our Holochain gym. In the previous exercise you learned how to create a entry in a zome. You compiled your zome to a dna, you asked the holochain conductor to turn that dna in a cell, you tested your zome code in that cell through a test script. And you learned that you needed the following things in your code:</p>
<ul>
<li>import hdk library</li>
<li>a serializable struct for input</li>
<li>a public function with <code>#[hdk_extern]</code> to make calls from the outside into your zome</li>
<li>a struct with <code>#[hdk_entry()]</code> to serve as the base for your entry definition</li>
<li>register your entry definition <code>entry_defs![NameOfYourStruct::entry_def()];</code></li>
</ul>
<p>You learned that there are 4 entry types: agent, app, claim cap, grant cap.
And that an entry has a hash. Not bad for your first exercise!</p>
<h2 id="hash-function"><a class="anchor" href="#hash-function"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Hash function</h2>
<p>Hashes are one of the main ingredients in a holochain app. So let's find out what they are. And since we are a gym and not a library you are going to try it out.
Select "say*greeting" in the CallZomeFns below, type <strong>Hello World</strong> in the input and click <em>EXECUTE</em>.
Click on the newly added object in the Entry Graph and look at the value of Entry hash of in Entry Contents.
Now type something else, like Hello World in your own language, and execute again. Open the details of the new object and compare the hash values. What do you notice?</p>
<mdjs-story mdjs-story-name="Simple"></mdjs-story>
<p>First thing you might notice is that each hash has the same length. No matter how small or how big the input is, the hash is always the same length. If you don't believe it, try it. Try a really long greeting.
The second thing you will find is that hashes do not look very similar. In fact, even the smallest difference in the input will give a very different hash. Again, try it out! Create an entry for <em>hello world</em> all lowercase, or add a comma or even a space.
The hashes will be very different.
Finally for the grand finale: add <em>Hello world</em> as an entry and then add it again. What do you notice?</p>
<p>Nothing happens. And that is a feature, not a bug. Because the same input, always returns the same hash. So when you add the <em>Hello World</em> entry a second and a third time the Entry Graph detects it already has an entry with this hash. And why save it again, if you already have it. It is a smart way to store data.</p>
<h2 id="hash-table"><a class="anchor" href="#hash-table"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Hash table</h2>
<p>When you combine all these properties of hashes you can do interesting stuff. If for every piece of data or content you have, you can calculate the hash value, then you could easily make a nice big list of all the hashes. No matter the size of the data you want to store, each piece will have it's own hash, which is unique but has the same size as all other hashes. And since all those hashes can be mapped to their content, you can use that list as an index. This type of list has a name, it's a <strong>hash table</strong>. The fancy name for this way of storing and retrieving your data this way is called <strong>content addressable storage</strong>. Because the content, well actually the hash of the content, is be used as a unique address for the content. It will really get interesting when we upgrade this hash table to a distributed hash table, a DHT.</p>
<h2 id="getting-ready"><a class="anchor" href="#getting-ready"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Getting ready</h2>
<p>So I hope you see that hashes play a big role in how data is stored and retrieved. You will see them poping up when we talk about headers, elements, the DHT, validations. They are everywhere.<br>
Enough talking. It is time to get ready for the exercise.</p>
<p>This time you are building a library zome. The zome will need 2 functions that can be called from the outside: <code>add_book</code> and <code>get_book</code>. You will add your favorite book and retrieve it from the library zome based on -you guessed it- the hash of its entry. In one of the next exercise we will see that there are other ways to retrieve your data: headers and elements. But it is good to know you can always find your entry again based on its entry hash.</p>
<p>First let's practice a bit in the simulation gym.
Select "add<em>book" in the CallZomeFns below, type the title of your favorite book in the input and click _EXECUTE</em>.
Click on the newly added object in the Entry Graph and copy the value of Entry hash.
Select "get<em>book" in the CallZomeFns, put in the hash and click _EXECUTE</em>. Open the last item with the green check with the text <code>get_book in library zome, result: </code>, in the panel just right of the execute button. Inspect the details.<br>
We told you you would see hashes everywhere. Look for the entry_hash and check if it matches. If it does, it means you succesfully created and retrieved an entry from the holochain simulation app.</p>
<mdjs-story mdjs-story-name="Exercise"></mdjs-story>
<h2 id="exercise"><a class="anchor" href="#exercise"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Exercise</h2>
<h3 id="add-book"><a class="anchor" href="#add-book"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Add book</h3>
<p>Since the previous exercise went well, we will raise the bar a little and leave a bit more of the work to you. We will start you off with this:</p>
<pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[derive(Serialize, Deserialize, Clone, Debug)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> SomeExternalInput <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">add_book</span><span class="token punctuation">(</span>input<span class="token punctuation">:</span> SomeExternalInput<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> ExternResult<span class="token operator">&lt;</span>EntryHash<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">unimplemented!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function">get_book</span><span class="token punctuation">(</span>hash<span class="token punctuation">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> ExternResult<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">unimplemented</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>It is up to you to add Book struct with two fields: title and content, to define your entry, add all the attributes and to register your entry definition.
There is one thing we didn't tell in the previous exercise: <code>create_entry</code> returns a <code>ExternResult&lt;HeaderHash&gt;</code> and not an EntryHash. So you will have to calculate the Entry hash yourself and return it. Look <a href="https://docs.rs/hdk/0.0.100/hdk/prelude/index.html">here</a> to see what function might be suited for that.</p>
<inline-notification type="tip" title="Exercise">  
<ol>
<li>Go to the <code>developer-exercises</code>.</li>
<li>Enter the nix-shell: <code>nix-shell</code><br>
<em>You should run this in the folder containing the default.nix file</em><br>
<em>starting the nix-shell for the very first time might take a long time, somewhere between 20 to 80 minutes, after that I will take just a few seconds</em>
<em>When it is done your terminal should similar to this</em> <code>[nix-shell:~/path-to-workspace/developer-exercises/path-to-exercise]$</code></li>
<li>Go to folder with the exercise <code>basic/1.hashes</code></li>
<li>Inside <code>zome/exercise/src/lib.rs</code>
<ul>
<li>Define a new struct for your entry: 'Book'</li>
<li>Implement the function <code>add_book</code></li>
</ul>
</li>
<li>Compile your code: <code>./run_build.sh</code></li>
<li>Run the test: <code>./run_tests.sh</code></li>
<li>Don't stop until the test runs green</li>
</ol>
</inline-notification> 
<h3 id="add-test"><a class="anchor" href="#add-test"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Add test</h3>
<p>If you really want to take your exercises seriously, you need to know how to add tests yourself. Until now, every time you ran <code>./run_tests</code> script, it would jump in the <code>tests</code> directory and run the typescript tests with <code>npm test</code>. The tests are real integration tests. They take the zome, as a compiled dna, and have a holochain conductor create a cell, for a specific user, with this dna.
The tests are fairly straightforward. Take a look at the code in <code>tests\src\index.ts</code>. If you are done exploring, add the code here below, just behind this line <code>t.ok(entryHash, "test add book");</code>.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token keyword">await</span> alice_common<span class="token punctuation">.</span><span class="token property-access">cells</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span>
  <span class="token string">"exercise"</span><span class="token punctuation">,</span> <span class="token comment">// name of zome</span>
  <span class="token string">"get_book"</span><span class="token punctuation">,</span> <span class="token comment">// function to call</span>
  entryHash <span class="token comment">// value to pass to the function</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
t<span class="token punctuation">.</span><span class="token method function property-access">ok</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span> <span class="token string">"test get book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// tape test assertion</span>
</code></pre>
<p>Run the tests and verify that you have a second assertion in your test, and that it fails. The only good test, is the test that failed at least once. That way you know you are actually testing something real.</p>
<h3 id="get-book"><a class="anchor" href="#get-book"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Get book</h3>
<p>After you get a failing test, it is up to you to make it pass. Implement the <code>get_book</code> function.
Run the tests. And if everything passes, then it is time to put your feet up, relax and rest.</p>
<inline-notification type="tip" title="Exercise">  
<ol>
<li>Add the extra test</li>
<li>Check if you are still inside the nix-shell<br>
<em>Your terminal should similar to this</em> <code>[nix-shell:~/path-to-workspace/developer-exercises/path-to-exercise]$</code></li>
<li>Implement the function <code>get_book</code></li>
<li>Compile your code: <code>./run_build.sh</code>.</li>
<li>Run the test: <code>./run_tests.sh</code></li>
<li>Don't stop until the test runs green</li>
</ol>
</inline-notification>
<h2 id="errors"><a class="anchor" href="#errors"><svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Errors</h2>
<p>If you encounter an error check here if you can find something that looks like your error. If not head to the <a href="https://forum.holochain.org/t/gym-help-needed-offer-request/4622/15">forum.holochain.org</a> and ask for help.</p>
<ul>
<li>The name of your property in the test (typescript) might not match the name in the zome (Rust)</li>
</ul>
<pre><code>ok 1 should be truthy
07:29:31 [tryorama] error: Test error: {
  type: 'error',
  data: {
    type: 'ribosome_error',
    data: 'Wasm error while working with Ribosome: Deserialize([0])'
  }
}
not ok 2 Test threw an exception. See output for details.
</code></pre>
<p>Verify that fieldname in typescript, match with the fieldnames in Rust</p>
<pre><code>// Rust
#[derive(Serialize, Deserialize, Clone, Debug)]
pub struct SomeExternalEntryHash{
    value: String,  // has to match with
}
</code></pre>
<pre><code>// Typescript
let book = await alice_common.cells[0].call(
  "exercise",
  "get_book",
  {
    // CORRECT
    value: "SDJCZjlsjfldkjfzerezmdljfdsmoiezr",
    // WRONG
    differentfieldname: "SDJCZjlsjfldkjfzerezmdljfdsmoiezr",
  }
);
</code></pre>
<p>For Rust specific questions:
<a href="https://forum.holochain.org/c/technical/rust/15">https://forum.holochain.org/c/technical/rust/15</a>
or
your favorite search engine</p>
        
      

  
    <div class="content-footer">
  <p>
    Caught a mistake or want to contribute to the documentation?
    <a href="https://github.com/holochain-gym/holochain-gym.github.io/edit/master/./docs/developers/basic/hashes.md">Edit this page on GitHub!</a>
  </p>
</div>

  
</main>

      
    </div>
  </div>


    
      <footer id="main-footer">
  
    

  
    <div id="footer-menu">
  <div class="content-area">
    
      <nav>
        <h3>Holochain</h3>
        <ul>
          
            <li>
              <a href="https://developer.holochain.org/docs/references/">Documentation</a>
            </li>
          
            <li>
              <a href="https://forum.holochain.org">Forum</a>
            </li>
          
        </ul>
      </nav>
    
      <nav>
        <h3>Gym</h3>
        <ul>
          
            <li>
              <a href="https://forum.holochain.org/c/learning-library/gym/133">Help and Feedback</a>
            </li>
          
            <li>
              <a href="https://github.com/holochain-gym/holochain.github.io/issues">Tasks for Contributors to the Gym</a>
            </li>
          
        </ul>
      </nav>
    
      <nav>
        <h3>Discover</h3>
        <ul>
          
            <li>
              <a href="https://holochain-open-dev.github.io/blog">Holochain Open Dev Blog</a>
            </li>
          
            <li>
              <a href="https://github.com/holochain-open-dev">Open Source Modules</a>
            </li>
          
        </ul>
      </nav>
    
      <nav>
        <h3>License</h3>
        <ul>
          
            <li>
              <a href="http://creativecommons.org/licenses/by/4.0/">This work is licensed under</a>
            </li>
          
            <li>
              <a href="http://creativecommons.org/licenses/by/4.0/">a Creative 
Commons Attribution 4.0</a>
            </li>
          
            <li>
              <a href="http://creativecommons.org/licenses/by/4.0/">International License</a>
            </li>
          
        </ul>
      </nav>
    
  </div>
</div>

  
</footer>

    

    
  



  <script>
  async function serviceWorkerUpdate() {
  if ('serviceWorker' in navigator) {
    const oldReg = await navigator.serviceWorker.getRegistration();
    let oldSwState;
    if (oldReg && oldReg.active) {
      oldSwState = oldReg.active.state;
    }

    let refreshing;

    navigator.serviceWorker.addEventListener('controllerchange', async () => {
      if (refreshing) {
        return;
      }

      const newReg = await navigator.serviceWorker.getRegistration();
      let newSwState;
      if (newReg && newReg.active) {
        newSwState = newReg.active.state;
      }

      if (oldSwState === 'activated' && newSwState === 'activating') {
        refreshing = true;
        window.location.reload();
      }
    });
  }
}

serviceWorkerUpdate();

</script>


  



  

<script inject-service-worker="">
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker
          .register('../../../service-worker.js')
          .then(function() {
            console.log('ServiceWorker registered from "../../../service-worker.js".');
          })
          .catch(function(err) {
            console.log('ServiceWorker registration failed: ', err);
          });
      });
    }
  </script>
<script type="module" src="../../../24d60c66.js"></script>
<script type="module" src="../../../3290032f3.js"></script>

</body></html>